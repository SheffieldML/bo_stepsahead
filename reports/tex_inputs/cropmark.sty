%%
%% This is file `cropmark.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% cropmark.dtx  (with options: `cropmark')
%% 
%% This is a generated file;
%% altering it directly is inadvisable;
%% instead, modify the original source file.
%% See the URL in the file 00readme.txt.
%% 
%% Copyright notice.
%% 
%%    These files are distributed
%%    WITHOUT ANY WARRANTY; without even the implied warranty of
%%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
%% 
%% \CharacterTable
%%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%%   Digits        \0\1\2\3\4\5\6\7\8\9
%%   Exclamation   \!     Double quote  \"     Hash (number) \#
%%   Dollar        \$     Percent       \%     Ampersand     \&
%%   Acute accent  \'     Left paren    \(     Right paren   \)
%%   Asterisk      \*     Plus          \+     Comma         \,
%%   Minus         \-     Point         \.     Solidus       \/
%%   Colon         \:     Semicolon     \;     Less than     \<
%%   Equals        \=     Greater than  \>     Question mark \?
%%   Commercial at \@     Left bracket  \[     Backslash     \\
%%   Right bracket \]     Circumflex    \^     Underscore    \_
%%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%%   Right brace   \}     Tilde         \~}%
%%%  @LaTeX-file{
%%%     filename        = "cropmark.dtx",
%%%     version         = "0.0a0",
%%%     date            = "1999/06/04",
%%%     time            = "11:23:00 GMT",
%%%     checksum        = "294",
%%%     author          = "Arthur Ogawa (mailto:ogawa@teleport.com)",
%%%     copyright       = "Copyright (C) 1999 Arthur Ogawa,
%%%                        all rights reserved.  Copying of this file is
%%%                        authorized only if either:
%%%                        (1) you make absolutely no changes to your copy,
%%%                        including name; OR
%%%                        (2) if you do make changes, you first rename it
%%%                        to some other name.",
%%%     address         = "Arthur Ogawa,
%%%                        USA",
%%%     telephone       = "",
%%%     FAX             = "",
%%%     email           = "ogawa@teleport.com",
%%%     codetable       = "ISO/ASCII",
%%%     keywords        = "latex, ltxdoc",
%%%     supported       = "yes",
%%%     abstract        = "a LaTeX package for crop marks",
%%%     docstring       = "The checksum field above generated by ltxdoc",
%%%  }
\NeedsTeXFormat{LaTeX2e}[1995/12/01]%
\ProvidesFile{cropmark.sty}%
 [1999/06/04 0.0a0 latex cropmark package]% \fileversion
\def\class@name{cropmark}%
\expandafter\PackageInfo\expandafter{\class@name}{%
 A LaTeX package for crop marks,
 by A. Ogawa (ogawa@teleport.com)%
}%
\RequirePackage{everyshi}%     
\EveryShipout{\ship@cropmark}% 
\def\ship@cropmark{%
 \setbox\@cclv\vbox{%
  \@tempdima\ht\@cclv\@tempdimb\dp\@cclv\advance\@tempdima\@tempdimb
  \box\@cclv
  \nointerlineskip
  \kern-\@tempdima
  \make@cropmarks
  \kern\@tempdima
  \prevdepth\@tempdimb
 }%
}%
\ifx\@trimheight\undefined
  \def\@trimheight{\paperheight}%
\fi
\ifx\@trimwidth\undefined
  \def\@trimwidth{\paperwidth}%
\fi
\def\cropmarklength{25pt}%
\def\cropmarkoffset{5pt}%
\def\cropmarkthickness{.5pt}%
\def\sluglinefont{\normalfont\scriptsize}%
\def\sluglinetokens{}%
\ifx\@to\undefined
 \def\@to{to}%
\fi
\AtBeginDocument{\cropmark@init}%
\def\cropmark@init{%
 \ifx\today\undefined\else
  \count@\time
  \divide\count@ 60
  \@tempcnta=-\count@
  \multiply\@tempcnta 60
  \advance\@tempcnta\time
  \edef\today{%
   \the\year/\two@digits{\the\month}/\two@digits{\the\day}:%
   \two@digits{\the\count@}:\two@digits{\the\@tempcnta}%
  }%
 \fi
 \setbox\z@\hbox{%
  \sluglinefont
  \expandafter\global
  \expandafter\let
  \expandafter\sluglinefont
  \the        \font
 }%
 \setlength\@tempdima{\paperwidth}%
 \addtolength\@tempdima{-\@trimwidth}%
 \setlength\hoffset{.5\@tempdima}%
 \addtolength\hoffset{-1in}%
 %
 \setlength\@tempdima{\paperheight}%
 \addtolength\@tempdima{-\@trimheight}%
 \setlength\voffset{.5\@tempdima}%
 \addtolength\voffset{-1in}%
}%
\def\crop@rules{%
 \vbox\@to\z@{%
  \@tempdima\cropmarklength
  \@tempdimb\cropmarkoffset
  \@tempdimc\cropmarkthickness
  \hbox\@to\z@{%
   \vbox\@to\@trimheight{%
    \vbox\@to\z@{%
     \vss
     \hbox\@to\@trimwidth{%
      \advance\@tempdima\@tempdimb
      \vrule\@height\@tempdima\@depth-\@tempdimb\@width\@tempdimc
      \quad
      \raise\tw@\@tempdimb\hbox{%
       \sluglinefont\sluglinetokens
       \today\quad Page \number\count\z@
      }%
      \hfil
      \vrule\@height\@tempdima\@depth-\@tempdimb\@width\@tempdimc
     }\nointerlineskip
     \hbox\@to\@trimwidth{%
      \hbox\@to\z@{%
       \hss
       \vrule\@width\@tempdima\@height\@tempdimc
       \kern\@tempdimb
      }%
      \hfil
      \hbox\@to\z@{%
       \kern\@tempdimb
       \vrule\@width\@tempdima\@height\@tempdimc
       \hss
      }%
     }%
    }%
    \vfil
    \vbox\@to\z@{%
     \hbox\@to\@trimwidth{%
      \hbox\@to\z@{%
       \hss
       \vrule\@width\@tempdima\@height\@tempdimc
       \kern\@tempdimb
      }%
      \hfil
      \hbox\@to\z@{%
       \kern\@tempdimb
       \vrule\@width\@tempdima\@height\@tempdimc
       \hss
      }%
     }\nointerlineskip
     \hbox\@to\@trimwidth{%
      \advance\@tempdima\@tempdimb
      \vrule\@depth\@tempdima\@height-\@tempdimb\@width\@tempdimc
      \hfil
      \vrule\@depth\@tempdima\@height-\@tempdimb\@width\@tempdimc
     }%
     \vss
    }%
   }%
   \hss
  }%
  \vss
 }%
}%
\def\trim@rules{%
 \vbox\@to\z@{%
  \hbox\@to\z@{%
   \vbox{%
    \hrule
    \hbox\@to\@trimwidth{%
     \vrule
     \hfil
     \vrule height\@trimheight
    }%
    \hrule
   }%
   \hss
  }%
  \vss
 }%
}%
\let\make@cropmarks\crop@rules
\endinput
%%
%% End of file `cropmark.sty'.
