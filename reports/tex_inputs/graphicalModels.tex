\input{tikzlibrarybayesnet.code.tex}
\tikzstyle{latent} = [circle,inner sep=1pt,minimum size=20pt, font=\fontsize{10}{10}\selectfont, node distance=1,draw=\blackColor,fill=\whiteColor]
\tikzstyle{obs} = [latent,fill=\blackColor!30]
%\tikzstyle{blackdot} = [latent,fill=\blackColor,size=5pt]
\tikzstyle{pixel} = [latent,minimum size=10pt, inner sep=0pt,node distance=0,font=\fontsize{5}{5}\selectfont]
\tikzstyle{factor} = [rectangle, fill=\blackColor, draw=\blackColor, inner sep=2pt, node distance=1]
\tikzstyle{const} = [rectangle, inner sep=0pt, node distance=1]
\tikzstyle{dash plate} = [draw, rectangle, rounded corners, fit=#1]
\tikzstyle{dash plate caption} = [caption, node distance=0, inner sep=0pt,
above=5pt and 0pt of #1.north] %
% \dashbox [options] {name} {fitlist} {caption}
\newcommand{\dashplate}[4][]{ %
  \node[wrap=#3] (#2-wrap) {}; %
  \node[dash plate caption=#2-wrap] (#2-caption) {#4}; %
  \node[dash plate=(#2-wrap)(#2-caption), #1] (#2) {}; %
}
